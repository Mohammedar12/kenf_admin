(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{SUx8:function(e,c,t){"use strict";t.r(c),t.d(c,"CustomersModule",function(){return H});var i=t("ofXK"),d=t("3Pt+"),o=t("tyNb"),r=t("fXoL"),n=t("5LAb"),s=t("1kSV"),a=t("V5ls"),l=t("cZdB");function u(e,c){if(1&e){const e=r.fc();r.ec(0,"tr"),r.ec(1,"td"),r.ec(2,"div",17),r.Zb(3,"input",18),r.ec(4,"label",19),r.Xc(5,"\xa0"),r.dc(),r.dc(),r.dc(),r.ec(6,"td"),r.Xc(7),r.dc(),r.ec(8,"td"),r.ec(9,"p",20),r.Xc(10),r.dc(),r.ec(11,"p",21),r.Xc(12),r.dc(),r.dc(),r.ec(13,"td"),r.Xc(14),r.dc(),r.ec(15,"td"),r.ec(16,"span",22),r.Zb(17,"i",23),r.Xc(18),r.dc(),r.dc(),r.ec(19,"td"),r.Xc(20),r.dc(),r.ec(21,"td"),r.Xc(22),r.rc(23,"date"),r.dc(),r.ec(24,"td"),r.ec(25,"div",24),r.ec(26,"a",25),r.Zb(27,"i",26),r.dc(),r.ec(28,"ul",27),r.ec(29,"a",28),r.oc("click",function(){r.Mc(e);const t=c.$implicit,i=r.qc(),d=r.Jc(36);return i.openEdit(d,t.id)}),r.Zb(30,"i",29),r.Xc(31,"Edit"),r.dc(),r.ec(32,"a",28),r.oc("click",function(){r.Mc(e);const t=c.$implicit;return r.qc().deleteGroupItem(t.id)}),r.Zb(33,"i",30),r.Xc(34,"delete"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc()}if(2&e){const e=c.$implicit,t=c.index;r.Kb(3),r.zc("id","customCheck",t,""),r.Kb(1),r.zc("for","customCheck",t,""),r.Kb(3),r.Yc(e.name),r.Kb(3),r.Yc(e.phone),r.Kb(2),r.Yc(e.email),r.Kb(2),r.Yc(e.address),r.Kb(4),r.Zc(" ",e.rating," "),r.Kb(2),r.Yc(e.balance),r.Kb(2),r.Yc(r.tc(23,9,e.createdAt,"dd/LL/YYYY"))}}function m(e,c){if(1&e&&(r.ec(0,"ngb-alert",51),r.Xc(1),r.dc()),2&e){const e=r.qc(2);r.xc("dismissible",!1),r.Kb(1),r.Yc(e.error)}}function b(e,c){1&e&&(r.ec(0,"div"),r.Xc(1,"ID is required"),r.dc())}function f(e,c){if(1&e&&(r.ec(0,"div",52),r.Vc(1,b,2,0,"div",53),r.dc()),2&e){const e=r.qc(2);r.Kb(1),r.xc("ngIf",e.fe.id.errors.required)}}function p(e,c){1&e&&(r.ec(0,"div"),r.Xc(1,"Name is required"),r.dc())}function h(e,c){if(1&e&&(r.ec(0,"div",52),r.Vc(1,p,2,0,"div",53),r.dc()),2&e){const e=r.qc(2);r.Kb(1),r.xc("ngIf",e.fe.name.errors.required)}}function g(e,c){1&e&&(r.ec(0,"div"),r.Xc(1,"phone is required"),r.dc())}function v(e,c){if(1&e&&(r.ec(0,"div",52),r.Vc(1,g,2,0,"div",53),r.dc()),2&e){const e=r.qc(2);r.Kb(1),r.xc("ngIf",e.fe.phone.errors.required)}}function C(e,c){1&e&&(r.ec(0,"div"),r.Xc(1,"Email is required"),r.dc())}function X(e,c){1&e&&(r.ec(0,"div"),r.Xc(1,"Email must be a valid email address"),r.dc())}function E(e,c){if(1&e&&(r.ec(0,"div",52),r.Vc(1,C,2,0,"div",53),r.Vc(2,X,2,0,"div",53),r.dc()),2&e){const e=r.qc(2);r.Kb(1),r.xc("ngIf",e.fe.email.errors.required),r.Kb(1),r.xc("ngIf",e.fe.email.errors.email)}}function x(e,c){1&e&&(r.ec(0,"div"),r.Xc(1,"Address is required"),r.dc())}function q(e,c){if(1&e&&(r.ec(0,"div",52),r.Vc(1,x,2,0,"div",53),r.dc()),2&e){const e=r.qc(2);r.Kb(1),r.xc("ngIf",e.fe.address.errors.required)}}const I=function(e){return{"is-invalid":e}};function D(e,c){if(1&e){const e=r.fc();r.ec(0,"div",31),r.ec(1,"h5",32),r.Xc(2,"Edit Customer"),r.dc(),r.ec(3,"button",33),r.oc("click",function(){return c.$implicit.dismiss("Cross click")}),r.Xc(4,"\xd7"),r.dc(),r.dc(),r.ec(5,"div",34),r.ec(6,"form",35),r.oc("ngSubmit",function(){r.Mc(e);const t=c.$implicit;return r.qc().onEdit(t)}),r.Vc(7,m,2,2,"ngb-alert",36),r.ec(8,"div",37),r.ec(9,"label",38),r.Xc(10,"ID"),r.dc(),r.Zb(11,"input",39),r.Vc(12,f,2,1,"div",40),r.dc(),r.ec(13,"div",37),r.ec(14,"label",38),r.Xc(15,"Name"),r.dc(),r.Zb(16,"input",41),r.Vc(17,h,2,1,"div",40),r.dc(),r.ec(18,"div",37),r.ec(19,"label",42),r.Xc(20,"Phone"),r.dc(),r.Zb(21,"input",43),r.Vc(22,v,2,1,"div",40),r.dc(),r.ec(23,"div",37),r.ec(24,"label",44),r.Xc(25,"Email"),r.dc(),r.Zb(26,"input",45),r.Vc(27,E,3,2,"div",40),r.dc(),r.ec(28,"div",37),r.ec(29,"label",46),r.Xc(30,"Address"),r.dc(),r.Zb(31,"input",47),r.Vc(32,q,2,1,"div",40),r.dc(),r.dc(),r.dc(),r.ec(33,"div",48),r.ec(34,"button",49),r.oc("click",function(){return c.$implicit.close("Close click")}),r.Xc(35,"Close"),r.dc(),r.Zb(36,"input",50),r.dc()}if(2&e){const e=r.qc();r.Kb(6),r.xc("formGroup",e.editForm),r.Kb(1),r.xc("ngIf",e.error),r.Kb(4),r.xc("ngClass",r.Bc(12,I,e.submitted&&e.fe.id.errors)),r.Kb(1),r.xc("ngIf",e.submitted&&e.fe.id.errors),r.Kb(4),r.xc("ngClass",r.Bc(14,I,e.submitted&&e.fe.name.errors)),r.Kb(1),r.xc("ngIf",e.submitted&&e.fe.name.errors),r.Kb(4),r.xc("ngClass",r.Bc(16,I,e.submitted&&e.fe.phone.errors)),r.Kb(1),r.xc("ngIf",e.submitted&&e.fe.phone.errors),r.Kb(4),r.xc("ngClass",r.Bc(18,I,e.submitted&&e.fe.email.errors)),r.Kb(1),r.xc("ngIf",e.submitted&&e.fe.email.errors),r.Kb(4),r.xc("ngClass",r.Bc(20,I,e.submitted&&e.fe.address.errors)),r.Kb(1),r.xc("ngIf",e.submitted&&e.fe.address.errors)}}let K=(()=>{class e{constructor(e,c,t){this.customerService=e,this.modalService=c,this.formBuilder=t,this.submitted=!1,this.error=""}ngOnInit(){this.breadCrumbItems=[{label:"Customers"},{label:"Customers",active:!0}],this.currentpage=1,this.customerService.getCustomers().subscribe(e=>{this.customersData=e,console.log(e)}),this.editForm=this.formBuilder.group({id:[{value:"",disabled:!0},[d.w.required]],name:["",[d.w.required]],phone:["",[d.w.required]],email:["",[d.w.required,d.w.email]],address:["",[d.w.required]]})}get fe(){return this.editForm.controls}openEdit(e,c){let t=this.customersData.filter(e=>e.id==c);this.editForm.controls.id.setValue(t[0].id),this.editForm.controls.name.setValue(t[0].name),this.editForm.controls.phone.setValue(t[0].phone),this.editForm.controls.address.setValue(t[0].address),this.editForm.controls.email.setValue(t[0].email),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{this.editForm.reset(),console.log("Closed with: "+e)},e=>{this.editForm.reset()})}deleteGroupItem(e){this.customerService.delCustomer(e).subscribe(c=>{this.customersData=this.customersData.filter(c=>c.id!=e)})}onEdit(e){if(this.submitted=!0,!this.editForm.invalid){let c=this.editForm.getRawValue();this.customerService.updateCustomer(c).subscribe(t=>{console.log(c);let i=this.customersData.findIndex(e=>e.id==c.id);this.customersData[i]={id:c.id,name:c.name,email:c.email,phone:c.phone,address:c.address,createdAt:this.customersData[i].createdAt},this.submitted=!1,e.close(),this.editForm.reset()})}}}return e.\u0275fac=function(c){return new(c||e)(r.Yb(n.a),r.Yb(s.t),r.Yb(d.e))},e.\u0275cmp=r.Sb({type:e,selectors:[["app-customers"]],decls:37,vars:6,consts:[[1,"container-fluid"],["title","Customers",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"search-box","mr-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"bx","bx-search-alt","search-icon"],[1,"table-responsive"],[1,"table","table-centered","table-nowrap"],[4,"ngFor","ngForOf"],["role","document"],["editContent",""],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id"],[1,"custom-control-label",3,"for"],[1,"mb-1"],[1,"mb-0"],[1,"badge","badge-success","font-size-12"],[1,"mdi","mdi-star","mr-1"],["container","body","ngbDropdown","","placement","bottom-right",1,"dropdown"],["href","javascript: void(0);","data-toggle","dropdown","ngbDropdownToggle","","aria-expanded","false",1,"dropdown-toggle","card-drop"],[1,"mdi","mdi-dots-horizontal","font-size-18"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"],[1,"mdi","mdi-account-edit"],[1,"mdi","mdi-delete"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],["id","editForm",1,"form-horizontal",3,"formGroup","ngSubmit"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group"],["for","name_en"],["type","text","formControlName","id","id","id",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","name","id","name",1,"form-control",3,"ngClass"],["for","name_ar"],["type","text","formControlName","phone","id","phone",1,"form-control",3,"ngClass"],["for","email"],["type","email","formControlName","email","id","email","placeholder","Email",1,"form-control",3,"ngClass"],["for","address"],["type","text","formControlName","address","id","address",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","form","editForm","value","Save",1,"btn","btn-primary"],["type","danger",3,"dismissible"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,c){1&e&&(r.ec(0,"div",0),r.Zb(1,"app-page-title",1),r.ec(2,"div",2),r.ec(3,"div",3),r.ec(4,"div",4),r.ec(5,"div",5),r.ec(6,"div",6),r.ec(7,"div",7),r.ec(8,"div",8),r.ec(9,"div",9),r.ec(10,"input",10),r.oc("ngModelChange",function(e){return c.term=e}),r.dc(),r.Zb(11,"i",11),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(12,"div",12),r.ec(13,"table",13),r.ec(14,"thead"),r.ec(15,"tr"),r.ec(16,"th"),r.Xc(17,"#"),r.dc(),r.ec(18,"th"),r.Xc(19,"Name"),r.dc(),r.ec(20,"th"),r.Xc(21,"Phone / Email"),r.dc(),r.ec(22,"th"),r.Xc(23,"Address"),r.dc(),r.ec(24,"th"),r.Xc(25,"Rating"),r.dc(),r.ec(26,"th"),r.Xc(27,"Total purchases"),r.dc(),r.ec(28,"th"),r.Xc(29,"Joining Date"),r.dc(),r.ec(30,"th"),r.Xc(31,"Action"),r.dc(),r.dc(),r.dc(),r.ec(32,"tbody"),r.Vc(33,u,35,12,"tr",14),r.rc(34,"filter"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.Vc(35,D,37,22,"ng-template",15,16,r.Wc)),2&e&&(r.Kb(1),r.xc("breadcrumbItems",c.breadCrumbItems),r.Kb(9),r.xc("ngModel",c.term),r.Kb(23),r.xc("ngForOf",r.tc(34,3,c.customersData,c.term)))},directives:[a.a,d.b,d.n,d.q,i.m,s.m,s.q,s.o,d.y,d.o,d.i,i.n,d.g,i.l,s.d],pipes:[l.a,i.e],styles:[""]}),e})();var k=t("AytR"),w=t("ovIy"),y=t("ZOsW"),S=t("0hV+");function V(e,c){if(1&e){const e=r.fc();r.ec(0,"div"),r.ec(1,"a",29),r.oc("click",function(){r.Mc(e);const t=c.$implicit,i=r.qc(2),d=r.Jc(38);return i.openDetail(d,t)}),r.Xc(2),r.dc(),r.dc()}if(2&e){const e=c.$implicit;r.Kb(2),r.Zc("",e.name_en," ")}}function _(e,c){if(1&e){const e=r.fc();r.ec(0,"ul",30),r.ec(1,"li",31),r.oc("click",function(){r.Mc(e);const c=r.qc().$implicit;return r.qc().changeOrderStatus(c.order_id,"WAITING")}),r.Xc(2,"WAITING"),r.dc(),r.ec(3,"li",31),r.oc("click",function(){r.Mc(e);const c=r.qc().$implicit;return r.qc().changeOrderStatus(c.order_id,"SHIPPED")}),r.Xc(4,"SHIPPED"),r.dc(),r.ec(5,"li",31),r.oc("click",function(){r.Mc(e);const c=r.qc().$implicit;return r.qc().changeOrderStatus(c.order_id,"PREPARED")}),r.Xc(6,"PREPARED"),r.dc(),r.ec(7,"li",31),r.oc("click",function(){r.Mc(e);const c=r.qc().$implicit;return r.qc().changeOrderStatus(c.order_id,"HAND_OVERED")}),r.Xc(8,"HAND_OVERED"),r.dc(),r.ec(9,"li",31),r.oc("click",function(){r.Mc(e);const c=r.qc().$implicit;return r.qc().changeOrderStatus(c.order_id,"DELIVERED")}),r.Xc(10,"DELIVERED"),r.dc(),r.ec(11,"li",31),r.oc("click",function(){r.Mc(e);const c=r.qc().$implicit;return r.qc().changeOrderStatus(c.order_id,"REJECTED")}),r.Xc(12,"REJECTED"),r.dc(),r.ec(13,"li",31),r.oc("click",function(){r.Mc(e);const c=r.qc().$implicit;return r.qc().changeOrderStatus(c.order_id,"CANCELED")}),r.Xc(14,"CANCELED"),r.dc(),r.ec(15,"li",31),r.oc("click",function(){r.Mc(e);const c=r.qc().$implicit;return r.qc().changeOrderStatus(c.order_id,"ACCEPTED")}),r.Xc(16,"ACCEPTED"),r.dc(),r.dc()}}const P=function(e,c,t){return{"badge-soft-danger":e,"badge-soft-warning":c,"badge-soft-info":t}};function O(e,c){if(1&e){const e=r.fc();r.ec(0,"tr"),r.ec(1,"td"),r.ec(2,"div",10),r.Zb(3,"input",18),r.ec(4,"label",19),r.Xc(5,"\xa0"),r.dc(),r.dc(),r.dc(),r.ec(6,"td"),r.ec(7,"a",20),r.Xc(8),r.dc(),r.dc(),r.ec(9,"td"),r.Vc(10,V,3,1,"div",13),r.dc(),r.ec(11,"td"),r.Xc(12),r.dc(),r.ec(13,"td"),r.Xc(14),r.dc(),r.ec(15,"td"),r.Xc(16),r.dc(),r.ec(17,"td"),r.Xc(18),r.rc(19,"date"),r.dc(),r.ec(20,"td"),r.ec(21,"button",21),r.Xc(22),r.dc(),r.Vc(23,_,17,0,"ng-template",null,22,r.Wc),r.dc(),r.ec(25,"td"),r.ec(26,"div",23),r.Zb(27,"i",24),r.ec(28,"div",25),r.ec(29,"a",26),r.oc("click",function(){r.Mc(e);const t=c.$implicit,i=r.qc(),d=r.Jc(36);return i.openEdit(d,t._id)}),r.Zb(30,"i",27),r.Xc(31,"Status"),r.dc(),r.ec(32,"a",26),r.oc("click",function(){r.Mc(e);const t=c.$implicit;return r.qc().deleteGroupItem(t._id)}),r.Zb(33,"i",28),r.Xc(34,"Delete"),r.dc(),r.dc(),r.dc(),r.dc(),r.dc()}if(2&e){const e=c.$implicit,t=r.Jc(24);r.qc();const i=r.Jc(34);r.Kb(3),r.zc("id","customCheck",e.index,""),r.Kb(1),r.zc("for","customCheck",e.index,""),r.Kb(4),r.Yc(e.order_id),r.Kb(2),r.xc("ngForOf",e.products),r.Kb(2),r.Yc(e.customer_id.name),r.Kb(2),r.Zc(" ",null==e.coupon_id?null:e.coupon_id.code," "),r.Kb(2),r.Yc(e.price),r.Kb(2),r.Yc(r.tc(19,13,e.createdAt,"dd/LL/YYYY")),r.Kb(3),r.xc("animation",!0)("ngbPopover",t)("popoverTitle",i)("ngClass",r.Dc(16,P,"REJECTED"===e.status||"CANCELED"===e.status,"SHIPPED"===e.status||"DELIVERED"===e.status,"WAITING"===e.status)),r.Kb(1),r.Yc(e.status)}}function F(e,c){1&e&&(r.ec(0,"b"),r.Xc(1,"Change Status"),r.dc())}function Z(e,c){if(1&e&&(r.ec(0,"ngb-alert",44),r.Xc(1),r.dc()),2&e){const e=r.qc(2);r.xc("dismissible",!1),r.Kb(1),r.Yc(e.error)}}function A(e,c){if(1&e&&r.Zb(0,"ng-select",45),2&e){const e=r.qc(2);r.xc("items",e.order_status)}}function Y(e,c){1&e&&(r.ec(0,"div"),r.Xc(1,"Status is required"),r.dc())}function R(e,c){if(1&e&&(r.ec(0,"div",46),r.Vc(1,Y,2,0,"div",47),r.dc()),2&e){const e=r.qc(2);r.Kb(1),r.xc("ngIf",e.fe.status.errors.required)}}function M(e,c){if(1&e){const e=r.fc();r.ec(0,"div",32),r.ec(1,"h5",33),r.Xc(2,"Change Status"),r.dc(),r.ec(3,"button",34),r.oc("click",function(){return c.$implicit.dismiss("Cross click")}),r.Xc(4,"\xd7"),r.dc(),r.dc(),r.ec(5,"div",35),r.ec(6,"form",36),r.oc("ngSubmit",function(){r.Mc(e);const t=c.$implicit;return r.qc().onEdit(t)}),r.Vc(7,Z,2,2,"ngb-alert",37),r.ec(8,"div",38),r.Vc(9,A,1,1,"ng-select",39),r.Vc(10,R,2,1,"div",40),r.dc(),r.dc(),r.dc(),r.ec(11,"div",41),r.ec(12,"button",42),r.oc("click",function(){return c.$implicit.close("Close click")}),r.Xc(13,"Close"),r.dc(),r.Zb(14,"input",43),r.dc()}if(2&e){const e=r.qc();r.Kb(6),r.xc("formGroup",e.editForm),r.Kb(1),r.xc("ngIf",e.error),r.Kb(2),r.xc("ngIf",e.change_badge),r.Kb(1),r.xc("ngIf",e.submittedEdit&&e.fe.status.errors)}}function T(e,c){if(1&e&&(r.ec(0,"ngb-alert",44),r.Xc(1),r.dc()),2&e){const e=r.qc(2);r.xc("dismissible",!1),r.Kb(1),r.Yc(e.error)}}function $(e,c){if(1&e&&(r.ec(0,"div",32),r.ec(1,"h5",33),r.Xc(2,"Order Details"),r.dc(),r.ec(3,"button",34),r.oc("click",function(){return c.$implicit.dismiss("Cross click")}),r.Xc(4,"\xd7"),r.dc(),r.dc(),r.ec(5,"div",35),r.Vc(6,T,2,2,"ngb-alert",37),r.ec(7,"div",48),r.ec(8,"div"),r.Zb(9,"img",49),r.dc(),r.ec(10,"div",50),r.ec(11,"div",51),r.ec(12,"label",52),r.Xc(13,"Title: "),r.dc(),r.ec(14,"div",53),r.Xc(15),r.dc(),r.dc(),r.ec(16,"div",54),r.ec(17,"label",55),r.Xc(18,"Price: "),r.dc(),r.ec(19,"div",56),r.Xc(20),r.dc(),r.dc(),r.ec(21,"div",54),r.ec(22,"label",57),r.Xc(23,"Qrcode: "),r.dc(),r.ec(24,"div",58),r.Xc(25),r.dc(),r.dc(),r.dc(),r.dc(),r.ec(26,"div",59),r.Zb(27,"qrcode",60),r.dc(),r.dc(),r.ec(28,"div",41),r.ec(29,"button",42),r.oc("click",function(){return c.$implicit.close("Close click")}),r.Xc(30,"Close"),r.dc(),r.dc()),2&e){const e=r.qc();r.Kb(6),r.xc("ngIf",e.error),r.Kb(3),r.yc("src",e.backend+"/getfile/?id="+e.selectedProductImage,r.Oc),r.Kb(6),r.Zc("\xa0 ",e.selectedProductTitle,""),r.Kb(5),r.Zc("\xa0 ",e.selectedProductPrice,""),r.Kb(5),r.Zc("\xa0 ",e.generateQrcode,""),r.Kb(2),r.xc("qrdata",e.generateQrcode)("width",200)("errorCorrectionLevel","M")}}const N=[{path:"",redirectTo:"list"},{path:"list",component:K},{path:"orders",component:(()=>{class e{constructor(e,c,t,i){this.customerService=e,this.modalService=c,this.formBuilder=t,this.marketingService=i,this.change_badge=[!0],this.backend=k.a.backend,this.error="",this.submitted=!1,this.submittedEdit=!1,this.generateQrcode="",this.barcodeImage="",this.selectedProductTitle="",this.selectedProductPrice="",this.selectedProductImage=""}ngOnInit(){this.customerService.getOrders().subscribe(e=>{this.transactions=e,console.log(e)}),this.editForm=this.formBuilder.group({order_id:[""],status:["",[d.w.required]]}),this.order_status=["WAITING","SHIPPED","PREPARED","HAND_OVERED","DELIVERED","REJECTED","CANCELED","ACCEPTED"],this.breadCrumbItems=[{label:"Customers"},{label:"Orders",active:!0}]}get fe(){return this.editForm.controls}selectedStatusFunc(e){console.log(e)}openDetail(e,c){this.generateQrcode=c.barcode,this.selectedProductTitle=c.name_en,this.selectedProductPrice=c.extra_price,this.selectedProductImage=c.images[0],this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{console.log("Closed with: "+e)},e=>{console.log("Dismissed "+this.getDismissReason(e))})}openEdit(e,c){let t=this.transactions.filter(e=>e._id==c);this.editForm.controls.order_id.setValue(t[0].order_id),this.editForm.controls.status.setValue(t[0].status),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{console.log("Closed with: "+e)},e=>{console.log("Dismissed "+this.getDismissReason(e))})}onEdit(e){if(this.submittedEdit=!0,!this.editForm.invalid){let c=this.editForm.getRawValue();this.customerService.updateOrder(c).subscribe(e=>{this.transactions=this.transactions.map(e=>(e.order_id==c.order_id&&(e.status=c.status),e))}),e.close()}}getDismissReason(e){return e===s.a.ESC?"by pressing ESC":e===s.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e}deleteGroupItem(e){this.customerService.delOrders(e).subscribe(c=>{this.transactions=this.transactions.filter(c=>c._id!=e)})}changeOrderStatus(e,c){console.log(e,c),this.customerService.updateOrder({order_id:e,status:c}).subscribe(t=>{this.transactions=this.transactions.map(t=>(t.order_id==e&&(t.status=c),t))})}}return e.\u0275fac=function(c){return new(c||e)(r.Yb(n.a),r.Yb(s.t),r.Yb(d.e),r.Yb(w.a))},e.\u0275cmp=r.Sb({type:e,selectors:[["app-orders"]],decls:39,vars:2,consts:[[1,"container-fluid"],["title","Orders",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"thead-light"],[2,"width","20px"],[1,"custom-control","custom-checkbox"],["id","customCheck","type","checkbox",1,"custom-control-input"],["for","customCheck",1,"custom-control-label"],[4,"ngFor","ngForOf"],["popTitle",""],["role","document"],["editContent",""],["detailContent",""],["type","checkbox",1,"custom-control-input",3,"id"],[1,"custom-control-label",3,"for"],["href","javascript: void(0);",1,"text-body","font-weight-bold"],[1,"badge","badge-pill","badge-soft-success","font-size-12",2,"border","none",3,"animation","ngbPopover","popoverTitle","ngClass"],["popOver",""],["ngbDropdown","","container","body","placement","bottom-left"],["ngbDropdownToggle","","data-toggle","dropdown","aria-expanded","true",1,"mdi","mdi-dots-vertical","dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"],[1,"mdi","mdi-account-edit"],[1,"mdi","mdi-delete"],["href","javascript: void(0);",1,"text-body","font-weight-bold",3,"click"],[1,"menu_list"],[3,"click"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],["id","editForm",1,"form-horizontal",3,"formGroup","ngSubmit"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group"],["formControlName","status",3,"items",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","form","editForm","value","Save",1,"btn","btn-primary"],["type","danger",3,"dismissible"],["formControlName","status",3,"items"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","mx-2"],[2,"width","200px","height","200px",3,"src"],[1,"ml-2"],[1,"d-flex"],["id","product_name mr-2"],["for","product_name",1,"font-weight-bold"],[1,"d-flex","mt-2"],["id","product_price mr-2"],["for","product_price",1,"font-weight-bold"],["id","qrcode mr-2"],["for","qrcode",1,"font-weight-bold"],[1,"d-flex","justify-content-center"],[3,"qrdata","width","errorCorrectionLevel"]],template:function(e,c){1&e&&(r.ec(0,"div",0),r.Zb(1,"app-page-title",1),r.ec(2,"div",2),r.ec(3,"div",3),r.ec(4,"div",4),r.ec(5,"div",5),r.ec(6,"div",6),r.ec(7,"table",7),r.ec(8,"thead",8),r.ec(9,"tr"),r.ec(10,"th",9),r.ec(11,"div",10),r.Zb(12,"input",11),r.ec(13,"label",12),r.Xc(14,"\xa0"),r.dc(),r.dc(),r.dc(),r.ec(15,"th"),r.Xc(16,"Order ID"),r.dc(),r.ec(17,"th"),r.Xc(18,"Product"),r.dc(),r.ec(19,"th"),r.Xc(20,"Customer"),r.dc(),r.ec(21,"th"),r.Xc(22,"Discount code"),r.dc(),r.ec(23,"th"),r.Xc(24,"Total"),r.dc(),r.ec(25,"th"),r.Xc(26,"Date"),r.dc(),r.ec(27,"th"),r.Xc(28,"Status"),r.dc(),r.ec(29,"th"),r.Xc(30,"Action"),r.dc(),r.dc(),r.dc(),r.ec(31,"tbody"),r.Vc(32,O,35,20,"tr",13),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.dc(),r.Vc(33,F,2,0,"ng-template",null,14,r.Wc),r.Vc(35,M,15,4,"ng-template",15,16,r.Wc),r.Vc(37,$,31,8,"ng-template",15,17,r.Wc)),2&e&&(r.Kb(1),r.xc("breadcrumbItems",c.breadCrumbItems),r.Kb(31),r.xc("ngForOf",c.transactions))},directives:[a.a,i.m,s.K,i.l,s.m,s.q,s.o,d.y,d.o,d.i,i.n,s.d,y.a,d.n,d.g,S.a],pipes:[i.e],styles:[".ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]{height:140px!important}"]}),e})()}];let L=(()=>{class e{}return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(c){return new(c||e)},imports:[[o.f.forChild(N)],o.f]}),e})();var B=t("4zvT"),G=t("+mqE"),J=t("EsRS"),W=t("vV3i");const z={};let H=(()=>{class e{}return e.\u0275mod=r.Wb({type:e}),e.\u0275inj=r.Vb({factory:function(c){return new(c||e)},providers:[{provide:W.a,useValue:z}],imports:[[i.c,L,s.A,d.k,l.b,s.e,s.p,W.c,d.t,B.a,G.a,J.a,y.b,s.E,S.b,s.v]]}),e})()}}]);