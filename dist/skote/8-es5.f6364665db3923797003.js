!function(){function e(e,c){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}function c(e,c){for(var t=0;t<c.length;t++){var i=c[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{SUx8:function(c,i,r){"use strict";r.r(i),r.d(i,"CustomersModule",function(){return te});var d=r("ofXK"),o=r("3Pt+"),n=r("tyNb"),a=r("fXoL"),s=r("5LAb"),l=r("1kSV"),u=r("V5ls"),m=r("cZdB");function b(e,c){if(1&e){var t=a.fc();a.ec(0,"tr"),a.ec(1,"td"),a.ec(2,"div",17),a.Zb(3,"input",18),a.ec(4,"label",19),a.Zc(5,"\xa0"),a.dc(),a.dc(),a.dc(),a.ec(6,"td"),a.Zc(7),a.dc(),a.ec(8,"td"),a.ec(9,"p",20),a.Zc(10),a.dc(),a.ec(11,"p",21),a.Zc(12),a.dc(),a.dc(),a.ec(13,"td"),a.Zc(14),a.dc(),a.ec(15,"td"),a.ec(16,"span",22),a.Zb(17,"i",23),a.Zc(18),a.dc(),a.dc(),a.ec(19,"td"),a.Zc(20),a.dc(),a.ec(21,"td"),a.Zc(22),a.sc(23,"date"),a.dc(),a.ec(24,"td"),a.ec(25,"div",24),a.ec(26,"a",25),a.Zb(27,"i",26),a.dc(),a.ec(28,"ul",27),a.ec(29,"a",28),a.oc("click",function(){a.Nc(t);var e=c.$implicit,i=a.rc(),r=a.Kc(36);return i.openEdit(r,e.id)}),a.Zb(30,"i",29),a.Zc(31,"Edit"),a.dc(),a.ec(32,"a",28),a.oc("click",function(){a.Nc(t);var e=c.$implicit;return a.rc().deleteGroupItem(e.id)}),a.Zb(33,"i",30),a.Zc(34,"delete"),a.dc(),a.dc(),a.dc(),a.dc(),a.dc()}if(2&e){var i=c.$implicit,r=c.index;a.Kb(3),a.Ac("id","customCheck",r,""),a.Kb(1),a.Ac("for","customCheck",r,""),a.Kb(3),a.ad(i.name),a.Kb(3),a.ad(i.phone),a.Kb(2),a.ad(i.email),a.Kb(2),a.ad(i.address),a.Kb(4),a.bd(" ",i.rating," "),a.Kb(2),a.ad(i.balance),a.Kb(2),a.ad(a.uc(23,9,i.createdAt,"dd/LL/YYYY"))}}function f(e,c){if(1&e&&(a.ec(0,"ngb-alert",51),a.Zc(1),a.dc()),2&e){var t=a.rc(2);a.yc("dismissible",!1),a.Kb(1),a.ad(t.error)}}function p(e,c){1&e&&(a.ec(0,"div"),a.Zc(1,"ID is required"),a.dc())}function v(e,c){if(1&e&&(a.ec(0,"div",52),a.Xc(1,p,2,0,"div",53),a.dc()),2&e){var t=a.rc(2);a.Kb(1),a.yc("ngIf",t.fe.id.errors.required)}}function g(e,c){1&e&&(a.ec(0,"div"),a.Zc(1,"Name is required"),a.dc())}function h(e,c){if(1&e&&(a.ec(0,"div",52),a.Xc(1,g,2,0,"div",53),a.dc()),2&e){var t=a.rc(2);a.Kb(1),a.yc("ngIf",t.fe.name.errors.required)}}function y(e,c){1&e&&(a.ec(0,"div"),a.Zc(1,"phone is required"),a.dc())}function Z(e,c){if(1&e&&(a.ec(0,"div",52),a.Xc(1,y,2,0,"div",53),a.dc()),2&e){var t=a.rc(2);a.Kb(1),a.yc("ngIf",t.fe.phone.errors.required)}}function C(e,c){1&e&&(a.ec(0,"div"),a.Zc(1,"Email is required"),a.dc())}function E(e,c){1&e&&(a.ec(0,"div"),a.Zc(1,"Email must be a valid email address"),a.dc())}function k(e,c){if(1&e&&(a.ec(0,"div",52),a.Xc(1,C,2,0,"div",53),a.Xc(2,E,2,0,"div",53),a.dc()),2&e){var t=a.rc(2);a.Kb(1),a.yc("ngIf",t.fe.email.errors.required),a.Kb(1),a.yc("ngIf",t.fe.email.errors.email)}}function I(e,c){1&e&&(a.ec(0,"div"),a.Zc(1,"Address is required"),a.dc())}function K(e,c){if(1&e&&(a.ec(0,"div",52),a.Xc(1,I,2,0,"div",53),a.dc()),2&e){var t=a.rc(2);a.Kb(1),a.yc("ngIf",t.fe.address.errors.required)}}var D=function(e){return{"is-invalid":e}};function w(e,c){if(1&e){var t=a.fc();a.ec(0,"div",31),a.ec(1,"h5",32),a.Zc(2,"Edit Customer"),a.dc(),a.ec(3,"button",33),a.oc("click",function(){return c.$implicit.dismiss("Cross click")}),a.Zc(4,"\xd7"),a.dc(),a.dc(),a.ec(5,"div",34),a.ec(6,"form",35),a.oc("ngSubmit",function(){a.Nc(t);var e=c.$implicit;return a.rc().onEdit(e)}),a.Xc(7,f,2,2,"ngb-alert",36),a.ec(8,"div",37),a.ec(9,"label",38),a.Zc(10,"ID"),a.dc(),a.Zb(11,"input",39),a.Xc(12,v,2,1,"div",40),a.dc(),a.ec(13,"div",37),a.ec(14,"label",38),a.Zc(15,"Name"),a.dc(),a.Zb(16,"input",41),a.Xc(17,h,2,1,"div",40),a.dc(),a.ec(18,"div",37),a.ec(19,"label",42),a.Zc(20,"Phone"),a.dc(),a.Zb(21,"input",43),a.Xc(22,Z,2,1,"div",40),a.dc(),a.ec(23,"div",37),a.ec(24,"label",44),a.Zc(25,"Email"),a.dc(),a.Zb(26,"input",45),a.Xc(27,k,3,2,"div",40),a.dc(),a.ec(28,"div",37),a.ec(29,"label",46),a.Zc(30,"Address"),a.dc(),a.Zb(31,"input",47),a.Xc(32,K,2,1,"div",40),a.dc(),a.dc(),a.dc(),a.ec(33,"div",48),a.ec(34,"button",49),a.oc("click",function(){return c.$implicit.close("Close click")}),a.Zc(35,"Close"),a.dc(),a.Zb(36,"input",50),a.dc()}if(2&e){var i=a.rc();a.Kb(6),a.yc("formGroup",i.editForm),a.Kb(1),a.yc("ngIf",i.error),a.Kb(4),a.yc("ngClass",a.Cc(12,D,i.submitted&&i.fe.id.errors)),a.Kb(1),a.yc("ngIf",i.submitted&&i.fe.id.errors),a.Kb(4),a.yc("ngClass",a.Cc(14,D,i.submitted&&i.fe.name.errors)),a.Kb(1),a.yc("ngIf",i.submitted&&i.fe.name.errors),a.Kb(4),a.yc("ngClass",a.Cc(16,D,i.submitted&&i.fe.phone.errors)),a.Kb(1),a.yc("ngIf",i.submitted&&i.fe.phone.errors),a.Kb(4),a.yc("ngClass",a.Cc(18,D,i.submitted&&i.fe.email.errors)),a.Kb(1),a.yc("ngIf",i.submitted&&i.fe.email.errors),a.Kb(4),a.yc("ngClass",a.Cc(20,D,i.submitted&&i.fe.address.errors)),a.Kb(1),a.yc("ngIf",i.submitted&&i.fe.address.errors)}}var S,P=((S=function(){function c(t,i,r){e(this,c),this.customerService=t,this.modalService=i,this.formBuilder=r,this.submitted=!1,this.error=""}return t(c,[{key:"ngOnInit",value:function(){var e=this;this.breadCrumbItems=[{label:"Customers"},{label:"Customers",active:!0}],this.currentpage=1,this.customerService.getCustomers().subscribe(function(c){e.customersData=c,console.log(c)}),this.editForm=this.formBuilder.group({id:[{value:"",disabled:!0},[o.w.required]],name:["",[o.w.required]],phone:["",[o.w.required]],email:["",[o.w.required,o.w.email]],address:["",[o.w.required]]})}},{key:"fe",get:function(){return this.editForm.controls}},{key:"openEdit",value:function(e,c){var t=this,i=this.customersData.filter(function(e){return e.id==c});this.editForm.controls.id.setValue(i[0].id),this.editForm.controls.name.setValue(i[0].name),this.editForm.controls.phone.setValue(i[0].phone),this.editForm.controls.address.setValue(i[0].address),this.editForm.controls.email.setValue(i[0].email),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(function(e){t.editForm.reset(),console.log("Closed with: "+e)},function(e){t.editForm.reset()})}},{key:"deleteGroupItem",value:function(e){var c=this;this.customerService.delCustomer(e).subscribe(function(t){c.customersData=c.customersData.filter(function(c){return c.id!=e})})}},{key:"onEdit",value:function(e){var c=this;if(this.submitted=!0,!this.editForm.invalid){var t=this.editForm.getRawValue(),i=t.id;delete t.id,this.customerService.updateCustomer(t,i).subscribe(function(i){console.log(t);var r=c.customersData.findIndex(function(e){return e.id==t.id});c.customersData[r]={id:t.id,name:t.name,email:t.email,phone:t.phone,address:t.address,createdAt:c.customersData[r].createdAt},c.submitted=!1,e.close(),c.editForm.reset()})}}}]),c}()).\u0275fac=function(e){return new(e||S)(a.Yb(s.a),a.Yb(l.t),a.Yb(o.e))},S.\u0275cmp=a.Sb({type:S,selectors:[["app-customers"]],decls:37,vars:6,consts:[[1,"container-fluid"],["title","Customers",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"search-box","mr-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"bx","bx-search-alt","search-icon"],[1,"table-responsive"],[1,"table","table-centered","table-nowrap"],[4,"ngFor","ngForOf"],["role","document"],["editContent",""],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"id"],[1,"custom-control-label",3,"for"],[1,"mb-1"],[1,"mb-0"],[1,"badge","badge-success","font-size-12"],[1,"mdi","mdi-star","mr-1"],["container","body","ngbDropdown","","placement","bottom-right",1,"dropdown"],["href","javascript: void(0);","data-toggle","dropdown","ngbDropdownToggle","","aria-expanded","false",1,"dropdown-toggle","card-drop"],[1,"mdi","mdi-dots-horizontal","font-size-18"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"],[1,"mdi","mdi-account-edit"],[1,"mdi","mdi-delete"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],["id","editForm",1,"form-horizontal",3,"formGroup","ngSubmit"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group"],["for","name_en"],["type","text","formControlName","id","id","id",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","name","id","name",1,"form-control",3,"ngClass"],["for","name_ar"],["type","text","formControlName","phone","id","phone",1,"form-control",3,"ngClass"],["for","email"],["type","email","formControlName","email","id","email","placeholder","Email",1,"form-control",3,"ngClass"],["for","address"],["type","text","formControlName","address","id","address",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","form","editForm","value","Save",1,"btn","btn-primary"],["type","danger",3,"dismissible"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,c){1&e&&(a.ec(0,"div",0),a.Zb(1,"app-page-title",1),a.ec(2,"div",2),a.ec(3,"div",3),a.ec(4,"div",4),a.ec(5,"div",5),a.ec(6,"div",6),a.ec(7,"div",7),a.ec(8,"div",8),a.ec(9,"div",9),a.ec(10,"input",10),a.oc("ngModelChange",function(e){return c.term=e}),a.dc(),a.Zb(11,"i",11),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(12,"div",12),a.ec(13,"table",13),a.ec(14,"thead"),a.ec(15,"tr"),a.ec(16,"th"),a.Zc(17,"#"),a.dc(),a.ec(18,"th"),a.Zc(19,"Name"),a.dc(),a.ec(20,"th"),a.Zc(21,"Phone / Email"),a.dc(),a.ec(22,"th"),a.Zc(23,"Address"),a.dc(),a.ec(24,"th"),a.Zc(25,"Rating"),a.dc(),a.ec(26,"th"),a.Zc(27,"Total purchases"),a.dc(),a.ec(28,"th"),a.Zc(29,"Joining Date"),a.dc(),a.ec(30,"th"),a.Zc(31,"Action"),a.dc(),a.dc(),a.dc(),a.ec(32,"tbody"),a.Xc(33,b,35,12,"tr",14),a.sc(34,"filter"),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.Xc(35,w,37,22,"ng-template",15,16,a.Yc)),2&e&&(a.Kb(1),a.yc("breadcrumbItems",c.breadCrumbItems),a.Kb(9),a.yc("ngModel",c.term),a.Kb(23),a.yc("ngForOf",a.uc(34,3,c.customersData,c.term)))},directives:[u.a,o.b,o.n,o.q,d.m,l.m,l.q,l.o,o.y,o.o,o.i,d.n,o.g,d.l,l.d],pipes:[m.a,d.e],styles:[""]}),S),N=r("AytR"),A=r("ovIy"),O=r("ZOsW"),F=r("0hV+");function x(e,c){if(1&e){var t=a.fc();a.ec(0,"div"),a.ec(1,"a",29),a.oc("click",function(){a.Nc(t);var e=c.$implicit,i=a.rc(2),r=a.Kc(38);return i.openDetail(r,null==e?null:e.product,e)}),a.Zc(2),a.dc(),a.dc()}if(2&e){var i=c.$implicit;a.Kb(2),a.bd("",null==i||null==i.product?null:i.product.name_en," ")}}function q(e,c){if(1&e){var t=a.fc();a.ec(0,"ul",30),a.ec(1,"li",31),a.oc("click",function(){a.Nc(t);var e=a.rc().$implicit;return a.rc().changeOrderStatus(e.id,"WAITING")}),a.Zc(2,"WAITING"),a.dc(),a.ec(3,"li",31),a.oc("click",function(){a.Nc(t);var e=a.rc().$implicit;return a.rc().changeOrderStatus(e.id,"SHIPPED")}),a.Zc(4,"SHIPPED"),a.dc(),a.ec(5,"li",31),a.oc("click",function(){a.Nc(t);var e=a.rc().$implicit;return a.rc().changeOrderStatus(e.id,"PREPARED")}),a.Zc(6,"PREPARED"),a.dc(),a.ec(7,"li",31),a.oc("click",function(){a.Nc(t);var e=a.rc().$implicit;return a.rc().changeOrderStatus(e.id,"HAND_OVERED")}),a.Zc(8,"HAND_OVERED"),a.dc(),a.ec(9,"li",31),a.oc("click",function(){a.Nc(t);var e=a.rc().$implicit;return a.rc().changeOrderStatus(e.id,"DELIVERED")}),a.Zc(10,"DELIVERED"),a.dc(),a.ec(11,"li",31),a.oc("click",function(){a.Nc(t);var e=a.rc().$implicit;return a.rc().changeOrderStatus(e.id,"REJECTED")}),a.Zc(12,"REJECTED"),a.dc(),a.ec(13,"li",31),a.oc("click",function(){a.Nc(t);var e=a.rc().$implicit;return a.rc().changeOrderStatus(e.id,"CANCELED")}),a.Zc(14,"CANCELED"),a.dc(),a.ec(15,"li",31),a.oc("click",function(){a.Nc(t);var e=a.rc().$implicit;return a.rc().changeOrderStatus(e.id,"ACCEPTED")}),a.Zc(16,"ACCEPTED"),a.dc(),a.dc()}}var X=function(e,c,t){return{"badge-soft-danger":e,"badge-soft-warning":c,"badge-soft-info":t}};function R(e,c){if(1&e){var t=a.fc();a.ec(0,"tr"),a.ec(1,"td"),a.ec(2,"div",10),a.Zb(3,"input",18),a.ec(4,"label",19),a.Zc(5,"\xa0"),a.dc(),a.dc(),a.dc(),a.ec(6,"td"),a.ec(7,"a",20),a.Zc(8),a.dc(),a.dc(),a.ec(9,"td"),a.Xc(10,x,3,1,"div",13),a.dc(),a.ec(11,"td"),a.Zc(12),a.dc(),a.ec(13,"td"),a.Zc(14),a.dc(),a.ec(15,"td"),a.Zc(16),a.dc(),a.ec(17,"td"),a.Zc(18),a.sc(19,"date"),a.dc(),a.ec(20,"td"),a.ec(21,"button",21),a.Zc(22),a.dc(),a.Xc(23,q,17,0,"ng-template",null,22,a.Yc),a.dc(),a.ec(25,"td"),a.ec(26,"div",23),a.Zb(27,"i",24),a.ec(28,"div",25),a.ec(29,"a",26),a.oc("click",function(){a.Nc(t);var e=c.$implicit,i=a.rc(),r=a.Kc(36);return i.openEdit(r,e.id)}),a.Zb(30,"i",27),a.Zc(31,"Status"),a.dc(),a.ec(32,"a",26),a.oc("click",function(){a.Nc(t);var e=c.$implicit;return a.rc().deleteGroupItem(e.id)}),a.Zb(33,"i",28),a.Zc(34,"Delete"),a.dc(),a.dc(),a.dc(),a.dc(),a.dc()}if(2&e){var i=c.$implicit,r=a.Kc(24);a.rc();var d=a.Kc(34);a.Kb(3),a.Ac("id","customCheck",i.index,""),a.Kb(1),a.Ac("for","customCheck",i.index,""),a.Kb(4),a.ad(null==i.paymentInfo?null:i.paymentInfo.invoiceId),a.Kb(2),a.yc("ngForOf",i.items),a.Kb(2),a.ad(null==i.billingInfo?null:i.billingInfo.name),a.Kb(2),a.bd(" ",null==i.coupon?null:i.coupon.code," "),a.Kb(2),a.ad(i.totalPrice),a.Kb(2),a.ad(a.uc(19,13,i.createdAt,"dd/LL/YYYY")),a.Kb(3),a.yc("animation",!0)("ngbPopover",r)("popoverTitle",d)("ngClass",a.Ec(16,X,"REJECTED"===i.status||"CANCELED"===i.status,"SHIPPED"===i.status||"DELIVERED"===i.status,"WAITING"===i.status)),a.Kb(1),a.ad(i.status)}}function T(e,c){1&e&&(a.ec(0,"b"),a.Zc(1,"Change Status"),a.dc())}function $(e,c){if(1&e&&(a.ec(0,"ngb-alert",44),a.Zc(1),a.dc()),2&e){var t=a.rc(2);a.yc("dismissible",!1),a.Kb(1),a.ad(t.error)}}function _(e,c){if(1&e&&a.Zb(0,"ng-select",45),2&e){var t=a.rc(2);a.yc("items",t.order_status)}}function V(e,c){1&e&&(a.ec(0,"div"),a.Zc(1,"Status is required"),a.dc())}function L(e,c){if(1&e&&(a.ec(0,"div",46),a.Xc(1,V,2,0,"div",47),a.dc()),2&e){var t=a.rc(2);a.Kb(1),a.yc("ngIf",t.fe.status.errors.required)}}function Y(e,c){if(1&e){var t=a.fc();a.ec(0,"div",32),a.ec(1,"h5",33),a.Zc(2,"Change Status"),a.dc(),a.ec(3,"button",34),a.oc("click",function(){return c.$implicit.dismiss("Cross click")}),a.Zc(4,"\xd7"),a.dc(),a.dc(),a.ec(5,"div",35),a.ec(6,"form",36),a.oc("ngSubmit",function(){a.Nc(t);var e=c.$implicit;return a.rc().onEdit(e)}),a.Xc(7,$,2,2,"ngb-alert",37),a.ec(8,"div",38),a.Xc(9,_,1,1,"ng-select",39),a.Xc(10,L,2,1,"div",40),a.dc(),a.dc(),a.dc(),a.ec(11,"div",41),a.ec(12,"button",42),a.oc("click",function(){return c.$implicit.close("Close click")}),a.Zc(13,"Close"),a.dc(),a.Zb(14,"input",43),a.dc()}if(2&e){var i=a.rc();a.Kb(6),a.yc("formGroup",i.editForm),a.Kb(1),a.yc("ngIf",i.error),a.Kb(2),a.yc("ngIf",i.change_badge),a.Kb(1),a.yc("ngIf",i.submittedEdit&&i.fe.status.errors)}}function B(e,c){if(1&e&&(a.ec(0,"ngb-alert",44),a.Zc(1),a.dc()),2&e){var t=a.rc(2);a.yc("dismissible",!1),a.Kb(1),a.ad(t.error)}}function G(e,c){if(1&e&&(a.ec(0,"div",32),a.ec(1,"h5",33),a.Zc(2,"Order Details"),a.dc(),a.ec(3,"button",34),a.oc("click",function(){return c.$implicit.dismiss("Cross click")}),a.Zc(4,"\xd7"),a.dc(),a.dc(),a.ec(5,"div",35),a.Xc(6,B,2,2,"ngb-alert",37),a.ec(7,"div",48),a.ec(8,"div"),a.Zb(9,"img",49),a.dc(),a.ec(10,"div",50),a.ec(11,"div",51),a.ec(12,"label",52),a.Zc(13,"Title: "),a.dc(),a.ec(14,"div",53),a.Zc(15),a.dc(),a.dc(),a.ec(16,"div",54),a.ec(17,"label",55),a.Zc(18,"Price: "),a.dc(),a.ec(19,"div",56),a.Zc(20),a.dc(),a.dc(),a.ec(21,"div",54),a.ec(22,"label",57),a.Zc(23,"Qrcode: "),a.dc(),a.ec(24,"div",58),a.Zc(25),a.dc(),a.dc(),a.dc(),a.dc(),a.ec(26,"div",59),a.Zb(27,"qrcode",60),a.dc(),a.dc(),a.ec(28,"div",41),a.ec(29,"button",42),a.oc("click",function(){return c.$implicit.close("Close click")}),a.Zc(30,"Close"),a.dc(),a.dc()),2&e){var t=a.rc();a.Kb(6),a.yc("ngIf",t.error),a.Kb(3),a.zc("src",t.imageBackend+(null==t.selectedProductImage?null:t.selectedProductImage.link),a.Pc),a.Kb(6),a.bd("\xa0 ",t.selectedProductTitle,""),a.Kb(5),a.bd("\xa0 ",t.selectedProductPrice,""),a.Kb(5),a.bd("\xa0 ",t.generateQrcode,""),a.Kb(2),a.yc("qrdata",t.generateQrcode)("width",200)("errorCorrectionLevel","M")}}var M,j,z,H=[{path:"",redirectTo:"list"},{path:"list",component:P},{path:"orders",component:(M=function(){function c(t,i,r,d){e(this,c),this.customerService=t,this.modalService=i,this.formBuilder=r,this.marketingService=d,this.change_badge=[!0],this.backend=N.a.backend,this.imageBackend=N.a.imageBackend,this.error="",this.submitted=!1,this.submittedEdit=!1,this.generateQrcode="",this.barcodeImage="",this.selectedProductTitle="",this.selectedProductPrice="",this.selectedProductImage=""}return t(c,[{key:"ngOnInit",value:function(){var e=this;this.customerService.getOrders().subscribe(function(c){console.log("vdf"),e.transactions=c,console.log(c)},function(e){console.log(e)}),this.editForm=this.formBuilder.group({oto_id:[""],status:["",[o.w.required]]}),this.order_status=["WAITING","SHIPPED","PREPARED","HAND_OVERED","DELIVERED","REJECTED","CANCELED","ACCEPTED"],this.breadCrumbItems=[{label:"Customers"},{label:"Orders",active:!0}]}},{key:"fe",get:function(){return this.editForm.controls}},{key:"selectedStatusFunc",value:function(e){console.log(e)}},{key:"openDetail",value:function(e,c,t){var i=this;this.generateQrcode=c.barcode,this.selectedProductTitle=c.name_en,this.selectedProductPrice=t.price,this.selectedProductImage=c.images[0],this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(function(e){console.log("Closed with: "+e)},function(e){console.log("Dismissed "+i.getDismissReason(e))})}},{key:"openEdit",value:function(e,c){var t=this,i=this.transactions.filter(function(e){return e._id==c});this.editForm.controls.oto_id.setValue(i[0].tryoto_id),this.editForm.controls.status.setValue(i[0].status),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(function(e){console.log("Closed with: "+e)},function(e){console.log("Dismissed "+t.getDismissReason(e))})}},{key:"onEdit",value:function(e){var c=this;if(this.submittedEdit=!0,!this.editForm.invalid){var t=this.editForm.getRawValue(),i=t.id;delete t.id,this.customerService.updateOrder(t,i).subscribe(function(e){c.transactions=c.transactions.map(function(e){return e.id==i&&(e.status=t.status),e})}),e.close()}}},{key:"getDismissReason",value:function(e){return e===l.a.ESC?"by pressing ESC":e===l.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e}},{key:"deleteGroupItem",value:function(e){var c=this;this.customerService.delOrders(e).subscribe(function(t){c.transactions=c.transactions.filter(function(c){return c._id!=e})})}},{key:"changeOrderStatus",value:function(e,c){var t=this;this.customerService.updateOrder({status:c},e).subscribe(function(i){t.transactions=t.transactions.map(function(t){return t.id==e&&(t.status=c),t})})}}]),c}(),M.\u0275fac=function(e){return new(e||M)(a.Yb(s.a),a.Yb(l.t),a.Yb(o.e),a.Yb(A.a))},M.\u0275cmp=a.Sb({type:M,selectors:[["app-orders"]],decls:39,vars:2,consts:[[1,"container-fluid"],["title","Orders",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"thead-light"],[2,"width","20px"],[1,"custom-control","custom-checkbox"],["id","customCheck","type","checkbox",1,"custom-control-input"],["for","customCheck",1,"custom-control-label"],[4,"ngFor","ngForOf"],["popTitle",""],["role","document"],["editContent",""],["detailContent",""],["type","checkbox",1,"custom-control-input",3,"id"],[1,"custom-control-label",3,"for"],["href","javascript: void(0);",1,"text-body","font-weight-bold"],[1,"badge","badge-pill","badge-soft-success","font-size-12",2,"border","none",3,"animation","ngbPopover","popoverTitle","ngClass"],["popOver",""],["ngbDropdown","","container","body","placement","bottom-left"],["ngbDropdownToggle","","data-toggle","dropdown","aria-expanded","true",1,"mdi","mdi-dots-vertical","dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"],[1,"mdi","mdi-account-edit"],[1,"mdi","mdi-delete"],["href","javascript: void(0);",1,"text-body","font-weight-bold",3,"click"],[1,"menu_list"],[3,"click"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],["id","editForm",1,"form-horizontal",3,"formGroup","ngSubmit"],["type","danger",3,"dismissible",4,"ngIf"],[1,"form-group"],["formControlName","status",3,"items",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","form","editForm","value","Save",1,"btn","btn-primary"],["type","danger",3,"dismissible"],["formControlName","status",3,"items"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","mx-2"],[2,"width","200px","height","200px",3,"src"],[1,"ml-2"],[1,"d-flex"],["id","product_name mr-2"],["for","product_name",1,"font-weight-bold"],[1,"d-flex","mt-2"],["id","product_price mr-2"],["for","product_price",1,"font-weight-bold"],["id","qrcode mr-2"],["for","qrcode",1,"font-weight-bold"],[1,"d-flex","justify-content-center"],[3,"qrdata","width","errorCorrectionLevel"]],template:function(e,c){1&e&&(a.ec(0,"div",0),a.Zb(1,"app-page-title",1),a.ec(2,"div",2),a.ec(3,"div",3),a.ec(4,"div",4),a.ec(5,"div",5),a.ec(6,"div",6),a.ec(7,"table",7),a.ec(8,"thead",8),a.ec(9,"tr"),a.ec(10,"th",9),a.ec(11,"div",10),a.Zb(12,"input",11),a.ec(13,"label",12),a.Zc(14,"\xa0"),a.dc(),a.dc(),a.dc(),a.ec(15,"th"),a.Zc(16,"Order ID"),a.dc(),a.ec(17,"th"),a.Zc(18,"Product"),a.dc(),a.ec(19,"th"),a.Zc(20,"Customer"),a.dc(),a.ec(21,"th"),a.Zc(22,"Discount code"),a.dc(),a.ec(23,"th"),a.Zc(24,"Total"),a.dc(),a.ec(25,"th"),a.Zc(26,"Date"),a.dc(),a.ec(27,"th"),a.Zc(28,"Status"),a.dc(),a.ec(29,"th"),a.Zc(30,"Action"),a.dc(),a.dc(),a.dc(),a.ec(31,"tbody"),a.Xc(32,R,35,20,"tr",13),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.dc(),a.Xc(33,T,2,0,"ng-template",null,14,a.Yc),a.Xc(35,Y,15,4,"ng-template",15,16,a.Yc),a.Xc(37,G,31,8,"ng-template",15,17,a.Yc)),2&e&&(a.Kb(1),a.yc("breadcrumbItems",c.breadCrumbItems),a.Kb(31),a.yc("ngForOf",c.transactions))},directives:[u.a,d.m,l.K,d.l,l.m,l.q,l.o,o.y,o.o,o.i,d.n,l.d,O.a,o.n,o.g,F.a],pipes:[d.e],styles:[".ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]{height:140px!important}"]}),M)}],J=((j=t(function c(){e(this,c)})).\u0275mod=a.Wb({type:j}),j.\u0275inj=a.Vb({factory:function(e){return new(e||j)},imports:[[n.f.forChild(H)],n.f]}),j),W=r("4zvT"),Q=r("+mqE"),U=r("EsRS"),ee=r("vV3i"),ce={},te=((z=t(function c(){e(this,c)})).\u0275mod=a.Wb({type:z}),z.\u0275inj=a.Vb({factory:function(e){return new(e||z)},providers:[{provide:ee.a,useValue:ce}],imports:[[d.c,J,l.A,o.k,m.b,l.e,l.p,ee.c,o.t,W.a,Q.a,U.a,O.b,l.E,F.b,l.v]]}),z)}}])}();